<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="UTF-8">
<title>高教网&nbsp;|&nbsp;让所有网站轻松应用视频&nbsp;|&nbsp;中国领先的视频云服务提供商</title>
<meta name="viewport" charset="UTF-8" content="user-scalable=no"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
<link href="__THEME__/css/index.css" type="text/css" rel="stylesheet">
<link href="__APP__/css/video.css" type="text/css" rel="stylesheet">
<script>
/**
 * 全局变量
 */
var SITE_URL  = '<php> echo SITE_URL;</php>';
var UPLOAD_URL= '<php> echo UPLOAD_URL;</php>';
var THEME_URL = '__THEME__';
var APPNAME   = '<php> echo APP_NAME;</php>';
var MID		  = '<php> echo $mid;</php>';
var UID		  = '<php> echo $uid;</php>';
var initNums  =  '<php> echo $initNums;</php>';
var SYS_VERSION = '<php> echo $site["sys_version"];</php>';
var _ROOT_    = '__ROOT__';
// Js语言变量
var LANG = new Array();
</script>
<script src="__THEME__/js/gjwjs/jquery-1.7.1.min.js"></script>
<script src="__THEME__/js/gjwjs/title_common.js"></script>
</head>
<body>
<div class="m-courselearn" style="top:-67px">
        <div class="learn-total">
               <!-- zhangr - start - video -->
                <div id="video_stop" class="learn-box"></div> 
               <!-- zhangr - start - video -->
                <div class="learn-box" id="video_play">

                </div>
                <div class="cl-info f-cb">
                                <div id="auto-id-Wgv0KyQS2q5GtCJz" class="cli-share j-sharebox auto-1390289261253-parent" title="分享" style="">
                                   <!-- <div class="clearfix">
                                        <p class="fl">分享</p> 
                                        <a class="share1 fl mt5" href="javascript:;">人人</a>
                                        <a class="share2 fl mt5" href="javascript:;">星</a>
                                        <a class="share3 fl mt5" href="javascript:;">新浪</a>
                                        <a class="share4 fl mt5" href="javascript:;">腾讯</a>
                                        <a class="share5 fl mt5" href="javascript:;">豆瓣</a>
                                        <a class="share6 fl mt5" href="javascript:;">tou</a>
                                    </div>-->
                                   <div class="bdsharebuttonbox bdshare-button-style1-16" data-bd-bind="1394160696511">
                                       <a href="#" class="bds_more " data-cmd="more"></a>
                                       
                                       <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">
                                       </a><a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
                                       <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
                                       <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
                                       <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
                                       <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网">
                                       </a><a href="#" class="bds_kaixin001" data-cmd="kaixin001" title="分享到开心网">
                                       </a><a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网">
                                       </a>
                                   </div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["weixin","sqq","qzone","tsina","tqq","renren","kaixin001","douban"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
                              </div>
                            </div>
        </div>
</div>
</body>
</html>
<script type="text/javascript" src="__APP__/js/swfobject.js"></script>
<script type="text/javascript">
	var video_id = "<?php echo $_GET['id']?>";
	var user_id = "<?php echo $sp_config['user_id']; ?>";

	var createObj = function(lesson){
		//	功能：创建播放器flash，需传递所需参数，具体参数请参考api文档
		var swfobj=new SWFObject('http://union.bokecc.com/flash/player.swf', 'playerswf', '100%', '99%', '8');
		swfobj.addVariable( "userid" , user_id);	//	partnerID,用户id
		swfobj.addVariable( "videoid" , lesson);	//	spark_videoid,视频所拥有的 api id
		swfobj.addVariable( "mode" , "api");	//	mode, 注意：必须填写，否则无法播放
		swfobj.addVariable( "autostart" , "false");	//	开始自动播放，true/false
		swfobj.addVariable( "jscontrol" , "true");	//	开启js控制播放器，true/false
		swfobj.addParam('allowFullscreen','true');
		swfobj.addParam('allowScriptAccess','always');
		swfobj.addParam('wmode','transparent');
		swfobj.write('video_play');
	};
	
	
	//初始化
	createObj(video_id);
	//createObj('EE76D79CB1F3B7729C33DC5901307461',mzcur_lesson_id);
	 
	//var player = getSWF( "cc_A5FEB0EA05F2100B9C33DC5901307461" );
	
	function on_cc_player_init(vid,swfplayer){
		var config = {};
		//config.fullscreen_enable = 1;
		//config.fullscreen_function = "customFullScreen"; //设置⾃自定义全屏函数的名称!
		//config.on_player_pause = "onPlayPaused"; //设置当暂停播放时的回调函数的名称!
		
		//config.control_enable = 0;
		//config.alert_enable = 0;
		var player = getSWF( swfplayer );
		player.setConfig( config );
		
	}
  	//	-------------------
	//	调用者：flash
	//	功能：播放器需要取得的验证代码
	//	时间：2014-04-18
	//	说明：用户可以加入相应逻辑
	//	-------------------
	function get_cc_verification_code(vid){
		var code = '';
		$.ajax({
			url  : U('classroom/Public/getcode'),
			type : 'POST',
			data : {vid:vid,id:'houtai'},
			async: false,
			timeout: 5000,
			dataType : 'text',
			success:function(_data){
				code = _data;
			},
			error : function(xhr, type) {
				alert(xhr.responseText);
			}
		});
		return code;
	}
	
	function getSWF(playerswf) {
		if( navigator.appName.indexOf( "Microsoft" ) != -1 ){
			return window[playerswf];
		} else {
			return document[playerswf];
		}
	}
	
	//	-------------------
	//	调用者：flash
	//	功能：如果需要付费之后才能观看就会调用此方法
	//	时间：2014-04-18
	//	说明：用户可以加入相应逻辑
	//	
	function mzBuyLabelShow(vid){
		showPayment();
	}
	
//	-------------------
//	调用者：flash
//	功能：播放器加载完毕时所调用函数
//	时间：2014-04-18
//	说明：用户可以加入相应逻辑
//	-------------------

	function on_spark_player_ready() {
		//alert("播放器加载完毕");
	}
	
//	-------------------
//	调用者：flash
//	功能：播放器开始播放时所调用函数
//	时间：2014-04-18
//	说明：用户可以加入相应逻辑
//	-------------------
	function on_spark_player_start() {
		//alert('开始播放');
	}
	
//	-------------------
//	调用者：flash
//	功能：播放器暂停时所调用函数
//	时间：2014-04-18
//	说明：用户可以加入相应逻辑
//	-------------------
	function on_spark_player_pause() {
		//alert('暂停播放');
	}
	
//	-------------------
//	调用者：flash
//	功能：播放器暂停后，继续播放时所调用函数
//	时间：2014-04-18
//	说明：用户可以加入相应逻辑
//	-------------------
	function on_spark_player_resume() {
		//alert('暂停后继续播放');
	}
	
//	-------------------
//	调用者：flash
//	功能：播放器播放停止时所调用函数
//	时间：2014-04-18
//	说明：用户可以加入相应逻辑
//	-------------------
	function on_spark_player_stop() {
		//alert('播放停止');
	}

	function player_play() { //	调用播放器开始播放函数
		document.getElementById("playerswf").spark_player_start();
	}
	function player_pause() { //	调用播放器暂停函数
		document.getElementById("playerswf").spark_player_pause();
	}
	function player_resume() { //	调用播放器恢复播放函数
		document.getElementById("playerswf").spark_player_resume();
	}
	
	
	var mystudyvideos = function(){
		mzgaojiaowang.mystudyvideo(mzcur_lesson_id,2,function(returns){
			if(returns.status == 1){
				//太棒了
				objshow('auto-id-tVTA7dOPMV4fTmyZ','tk0','close2');
			}else{
				notes('学习失败了！','failure');	
			}
		});
	};
	var mycollectvideos = function(){
		mzgaojiaowang.mycollect(1,2,mzcur_lesson_id);
	};
	var showPayment = function(){
		$('#transparent').show();
		$('#proposal_or').show();
		var aDiv = $('#proposal_or')[0];
		var scrollTop=document.body.scrollTop || document.documentElement.scrollTop;
		var scrollLeft=document.body.scrollLeft || document.documentElement.scrollLeft;
		aDiv.style.display='block';
		aDiv.style.left=(document.documentElement.clientWidth- aDiv.offsetWidth)/2+scrollLeft+'px';
		aDiv.style.top=(document.documentElement.clientHeight- aDiv.offsetHeight)/2+scrollTop+'px';
		aDiv.style.zIndex='999';
	 };
</script>
